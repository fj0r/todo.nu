- [ ] Filter #10
    - [x] Enable filtering by category #15
    - [x] Enable `&AND`, `!NOT` tags #17
        - [x] `cat-to-tag-id` no longer includes `split-cat` #185
        - [x] Filter labels in the result set #186
            - [x] cat-filter #187
            - [x] filter `todo list` #188
        - [x] Fix the exception when todo list is called without parameters #196
        - [x] Refactor conditional logic in todo-list filter #231
        - [x] Tag with predicate can be used independently #299
    - [x] Automatically filter out `trash` tag #18
        - [x] Test re-adding :trash after deleting it. #73
    - [x] Filter finished #81
    - [x] Category without tag is equivalent to all tags #87
        - [x] Enable `--empty-as-all` of `cat-to-tag-id` only in `Todo list` #181
    - [ ] Completion of &tag and !tag #189
    - [ ] List unfinished tasks, sorted by deadline #214
    - [x] Allows setting a specified tag to be hidden. #223
        - [x] Add column `hidden` #280
        - [x] Filter category where `hidden` is true when querying. #281
        - [x] Toggle hidden of category #282
        - [x] todo-list: change to filter hidden when there is no tag #338
            - [x] Adjust the query conditions when using --all and ...$tag together #346
    - [x] `todo-today` #291
    - [x] Add `--parent` into `todo-list` #292
    - [x] Search #336
    - [ ] Complex filter #414
- [ ] Actions #22
    - [x] Category #11
        - [x] Allow creation of multiple tags under one category at once #13
            - [x] Deduplication #86
        - [x] Multiple tags under the same category #38
    - [x] Messaging on deletion #23
    - [x] Batch operations #31
        - [x] Batch Done #32
        - [x] Batch addition #39
        - [x] Batch attr #51
    - [x] Check parent node when operating on `done` status #34
        - [x] Detection of nodes under other paths #44
        - [x] Detection on adding nodes #45
        - [x] Display message abnormalities #46
        - [x] Recursive CTE #53
        - [x] Return the data structure for easy reuse by other UIs #74
        - [x] Detection on moving nodes #361
        - [x] `uplevel done` ignore :trash #362
            - [x] Detection on removing nodes #144
    - [x] Set `updated` on Done #35
    - [x] todo attrs (tt) #48
        - [x] Special handling for `-x` #112
        - [x] Merge `todo tag` into `todo attrs` #113
        - [x] Merge `todo done` into `todo attrs` #114
    - [x] Inheriting tags when child nodes are added (by default) #54
    - [ ] When `todo cat clean`, if there are additional tags, only the tags will be cleared. #123
    - [ ] Discussion #146
    - [x] Noninteraction mode as default in `Todo add` #147
    - [x] `todo-add` can read the title from stdin. #230
- [ ] Display #24
    - [x] Convert to tree #25
        - [x] Multi-level tree test #33
        - [x] Display issue when data is empty #37
    - [x] Format branches #26
    - [x] Format nodes #27
    - [x] Output in Markdown format #28
        - [x] remove tail space #61
        - [x] List format (no checkbox) #237
    - [x] Policy for displaying dangling nodes #40
        - [x] distinct dangling nodes #398
    - [x] Display issue when tags is empty #41
    - [x] Details should be more prominent than metadata #47
    - [x] View `:trash` #50
    - [x] Configurable theme colors #52
        - [x] $env.TODO_THEME #78
        - [x] Refactor 'fmt leaves' #79
        - [x] Use variable substitution for actual values #80
        - [x] $env.TODO_THEME.symbol.box #100
        - [x] $env.TODO_THEME.symbol.md_list #283
    - [x] Eye-pleasing default theme #82
    - [x] Deadline #83
        - [x] Done Todo do not show deadline #84
        - [x] Different styles for timeout and no deadline #85
    - [x] Change `print message` to return the `message` data structure #101
    - [ ] Mind Map #145
    - [x] Optimize `fmt leaves` #183
        - [x] Reduce string concatenation (SQLite) and splitting. #351
    - [x] Show all parent node #337
    - [x] todo-body #367
- [ ] Data #29
    - [x] Challenge #30
        - [x] Data structure #36
        - [x] Formatting #42
        - [x] Filtering #43
    - [x] todo list --untagged #55
        - [x] sql insertion #58
        - [x] When no tag is specified, `:untagged` is added by default. #59
        - [x] remove/add `:untagged` when todo tag #60
    - [x] Tips about initializing the database #239
    - [x] todo-add return $ids #352
    - [ ] Tag tree #369
        - [x] parent_id #370
        - [x] Drop category #371
        - [x] todo-list #372
            - [x] hide trash #377
                - [x] include children #392
            - [x] hide tag #385
        - [x] todo-add #373
        - [x] todo-attrs #378
            - [x] Add only the last level tag #388
        - [x] uplevel done #379
        - [x] tag-data #380
            - [x] tag-clean #381
            - [x] tag-add #382
            - [x] tag-rename #383
            - [x] tag-hidden #384
        - [x] remove split-cat #386
        - [ ] Segmented completion cmpl-tag #387
        - [x] Format tags #394
        - [x] todo-tag-clean #395
        - [ ] Group tags #397
        - [x] Deleted #404
            - [x] Remove :trash #405
            - [x] todo-list: --all -> --trash #407
    - [x] Edit #413
        - [x] relevant references #422
- [ ] Integration #63
    - [x] More convenient interaction modes #68
        - [x] kebab-case #201
        - [x] Interactive cleaning :trash `tclean` #224
    - [ ] Import/Export #69
        - [x] Export json #242
        - [ ] Import #243
            - [x] id collision #245
                - [x] switch $env.TODO_DB #284
                    - [x] Allow setting $env.TODO_DB #285
            - [ ] Restore tag #246
            - [ ] Mounting Node (Parent) #247
            - [ ] Maintain the tree structure #248
    - [x] Shortcut #70
        - [x] Change the `parent` parameter to flag to be consistent with others #347
    - [x] Todo Commit #76
        - [x] Fill in the #todo in the README.md file #64
            - [x] Return the todo list as a string (instead of printing) #67
        - [x] Specify the title with the given id as the commit message #65
        - [x] Done the relevant todo #66
        - [x] alias: tc #77
        - [x] Edit #151
    - [x] rename data to core #207
    - [x] Add `Quick Start` #215
    - [x] Pipe to `todo-add` #217
- [x] Scratch.nu #190
    - [x] Edit or Output #192
    - [x] If no id is provided, get the latest #195
    - [x] New table `scratch`, `scratch_tag` #199
        - [x] Meta tag `:scratch` #197
        - [x] Add column `type` into table `todo` #198
    - [x] Scratch new/edit/out #200
    - [x] The default type is `md` #208
    - [x] Adjust return value of sa/se #209
        - [x] Return `content` #218
    - [x] Content ignore leading empty lines #221
    - [x] Set Default Title #225
        - [x] Open the editor and location to the second line. #226
        - [x] Variants-edit #238
    - [x] `scratch-add` can read content from stdin. #229
    - [x] scratch.nu as an independent project #364
    - [x] Filter empty #366
- [ ] Count.nu #255
    - [ ] Only count leaf node #256
    - [x] New column named `value` with type `REAL` #257
    - [ ] How to calculate when both child nodes and parent nodes have values #258
- [x] Financial.nu #342
    - [x] Relevant: Payee/Payer #343
    - [x] Accounting subject #344
    - [x] Category #345